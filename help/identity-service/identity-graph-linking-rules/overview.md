---
title: 身份图链接规则概述
description: 了解Identity Service中的Identity Graph链接规则。
hide: true
hidefromtoc: true
badge: Alpha
exl-id: 317df52a-d3ae-4c21-bcac-802dceed4e53
source-git-commit: 308d07cf0c3b4096ca934a9008a13bf425dc30b6
workflow-type: tm+mt
source-wordcount: '916'
ht-degree: 0%

---

# 身份图链接规则概述

>[!IMPORTANT]
>
>标识图链接规则当前处于Alpha状态。 该功能和文档可能会发生更改。

## 目录

* [概述](./overview.md)
* [示例场景](./example-scenarios.md)
* [Identity Service和实时客户资料](identity-and-profile.md)
* [身份链接逻辑](./identity-linking-logic.md)

通过Adobe Experience Platform Identity Service和实时客户个人资料，可以轻松假设您的数据已被完全摄取，并且所有合并的个人资料都通过人员标识符（如CRM ID）表示单个个人。 但是，在某些情况下，某些数据可能会尝试将多个不同的配置文件合并到单个配置文件中（“配置文件折叠”）。 要防止这些不需要的合并，您可以使用通过身份图链接规则提供的配置，并允许对用户进行准确的个性化。

## 可能发生配置文件折叠的示例方案

* **共享设备**：共享设备是指由多个用户使用的设备。 共享设备的示例包括平板电脑、库计算机和信息亭。
* **错误的电子邮件和电话号码**：错误的电子邮件和电话号码指注册无效联系信息的最终用户，例如“测试”<span>@test.com”代表电子邮件，“+1-111-111-1111”代表电话号码。
* **标识值错误或错误**：错误或错误的标识值是指可能会合并CRM ID的非唯一标识值。 例如，虽然IDFA要求具有36个字符（32个字母数字字符和4个连字符），但在某些情况下，可以摄取标识值为“user_null”的IDFA。 同样，电话号码仅支持数字字符，但可能会摄取标识值为“未指定”的电话命名空间。

有关身份图链接规则的用例方案的更多信息，请阅读文档 [示例场景](./example-scenarios.md).

## 身份图链接规则目标

通过身份图链接规则，您可以：

* 配置限制以防止将两个不同的人员标识符合并到一个身份图中，从而使单个身份图只能表示一个人员。
   * 随后您配置的限制将由身份优化算法强制执行。
* 配置优先级以将经过身份验证的个人执行的在线事件与给定用户相关联。

### 限制

您可以使用命名空间限制来定义基于给定命名空间的图形中可以存在的最大身份数。 例如，您可以将图表设置为最多只有一个具有CRM ID命名空间的身份，从而防止在同一图表内合并两个截然不同的人员标识符。

* 如果未配置限制，这可能会导致不需要的图形合并，例如图形中具有CRM ID命名空间的两个身份。
* 如果未配置限制，则只要图形位于护栏内（50个身份/图形），该图形就可以添加所需数量的命名空间。
* 如果配置了限制，则身份优化算法将确保实施该限制。

### 身份优化算法

身份优化算法是一种确保实施限制的规则。 算法会遵循最近的链接并删除最早的链接，以确保给定的图形保持在您定义的限制内。

以下是算法将匿名事件与已知标识符关联的含义列表：

* 如果满足以下条件，则ECID将与上次经过身份验证的用户关联：
   * 如果CRM ID由ECID（共享设备）合并。
   * 如果限制仅配置为一个CRM ID。

### 优先级

>[!IMPORTANT]
>
>命名空间优先级当前不适用于Alpha。

您可以使用命名空间优先级来定义哪些命名空间比其他命名空间更重要。 然后，您为命名空间设置的层级将用于定义主身份和存储配置文件片段。 如果配置了优先级设置，则将不再使用Web SDK上的主标识设置来确定存储了哪些配置文件片段。

* 限制和优先级是独立的配置，可以 **非** 相互影响：
   * 限制是Identity Service中的身份图配置。
   * 优先级是实时客户个人资料上的个人资料片段配置。
   * 优先级是 **非** 影响身份图系统护栏。

>[!BEGINSHADEBOX]

**命名空间优先级示例**

假设您已经为命名空间配置了以下优先级：

1. CRM ID：表示用户。
2. IDFA：表示Apple硬件设备，如iPhone和iPad。
3. GAID：表示Google硬件设备，如Google Pixel。
4. ECID：表示Web浏览器，如Firefox、Safari和Chrome。
5. AAID：表示Web浏览器。
如果同时发送ECID和AAID，则两个标识代表同一个Web浏览器（重复）。

如果将以下体验事件摄取到Experience Platform，则配置文件片段将针对优先级较高的命名空间进行存储。

**已验证的事件：**

* 如果身份映射包含ECID、GAID和CRM ID，则事件信息将根据CRM ID（主身份）进行存储。
   * GAID表示Google硬件设备(例如Google Pixel)，ECID表示Web浏览器(例如Google Chrome)，而CRM ID表示经过身份验证的用户。
   * 如果身份映射包含CRM ID、ECID和AAID，则事件信息将根据CRM ID（主要身份）进行存储。

**未验证的事件：**

* 如果标识映射包含ECID、IDFA和AAID，则将根据IDFA（主标识）存储事件信息。
   * IDFA表示Apple硬件设备(例如iPhone)，ECID和AAID都表示Web浏览器(Safari)。

>[!ENDSHADEBOX]

## 后续步骤

有关身份图链接规则的更多信息，请阅读以下文档：

* [配置身份图链接规则的示例场景](./example-scenarios.md)
* [Identity Service和实时客户资料](identity-and-profile.md)
* [身份链接逻辑](./identity-linking-logic.md)
