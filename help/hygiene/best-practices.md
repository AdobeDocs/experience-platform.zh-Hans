---
title: 高级数据生命周期管理的最佳实践
description: 了解如何使用高级数据生命周期管理UI和数据卫生API在Adobe Experience Platform中高效管理数据卫生请求。 本指南涵盖了最佳实践，例如最大化每个请求的身份、指定单个数据集并注意API限制以防止速度减慢。 本文档包含设置自动数据集清理的指南、如何监视工作单状态和详细的响应检索方法。 按照以下惯例来简化请求处理并优化响应时间。
source-git-commit: 92667fd4da093e56dcf06ae1696484671d9fdd38
workflow-type: tm+mt
source-wordcount: '779'
ht-degree: 0%

---

# 高级数据生命周期管理的最佳实践

使用高级数据生命周期管理UI和数据卫生API高效地管理清理请求并从Adobe Experience Platform服务中删除数据。 按照这些最佳实践来简化请求处理并优化完成响应时间。

## 先决条件 {#prerequisites}

本指南要求您实际了解数据生命周期工作区和 [数据卫生API](./api/overview.md). 在继续阅读本文档之前，请先熟悉以下指南 [高级数据生命周期管理](./home.md) 和 [创建记录删除请求](./ui/record-delete.md) 或 [UI中的数据集过期日期](./ui/dataset-expiration.md)或通过API访问。

## 工单创建准则 {#work-order-creation-guidelines}

您可以使用 `/workorder` 数据卫生API中的端点，用于以编程方式管理Experience Platform中的记录删除请求。 使用此端点，您可以创建删除请求、检查其状态或更新现有请求。 请参阅 [工单终结点文档](./api/workorder.md) 以了解如何使用API执行这些操作。

>[!TIP]
>
>工单是一种结构化请求，用于执行特定的数据管理操作（如数据清理或转换），以确保高效且系统地处理。

请按照以下准则优化您的清理请求提交：

1. **最大化每个请求的身份：** 包括每个清理请求最多100,000个身份以提高效率。 将多个身份批量处理为单个请求有助于减少API调用的频率，并最大程度地降低因过多的单身份请求而导致的性能问题风险。
2. **指定单个数据集：** 为了实现最高效率，请指定要处理的单个数据集。
3. **提交多个请求：** 以最大身份数提交多个请求以实现更快处理，因为工作单将按批处理以提高效率。
4. **API限制注意事项：** 请注意API限制以防止速度减慢。 频率较高的较小请求（&lt;100个身份证）可能会导致429项回应，需要以可接受的频率重新提交。

### 管理429错误 {#manage-429-errors}

如果收到429错误，则表示在给定时间段内请求的数量已超过允许的数量。 按照以下最佳实践有效管理429错误：

- **阅读“Retry-After”标头**：返回429错误时，检查“Retry-After”响应标头。 此标头指定重试请求前等待的时间。
- **实施重试逻辑**：使用“Retry-After”值在应用程序中实施重试逻辑，确保在指定时间后尝试重试以避免后续429错误。
- **批量处理请求**：避免快速连续提交大量小型请求。 相反，可将多个身份批量处理到单个请求中，以减少调用的频率并将命中率限制的风险降至最低。

## 数据集到期 {#dataset-expiration}

为短期数据设置自动数据集清理。 使用 `/ttl` 数据卫生API上的端点以计划数据集的过期日期。 使用 `/ttl` 端点触发基于指定时间或日期的数据集清理。 请参阅数据集到期端点指南，了解如何 [创建数据集过期](./api/dataset-expiration.md) 和 [接受的查询参数](./api/dataset-expiration.md#query-params).

## 监测工作单和数据集到期状态 {#monitor}

您可通过使用，有效地监控数据生命周期管理的进度 **I/O事件**. I/O事件是一种机制，用于接收有关Platform内各种服务中的更改或更新的实时通知。

I/O事件警报可以发送到配置的webhook以实现活动监视的自动化。 要通过webhook接收警报，您必须在Adobe Developer控制台中为平台警报注册webhook。 请参阅指南，网址为 [订阅Adobe I/O事件通知](../observability/alerts/subscribe.md) 以了解详细说明。

使用以下数据生命周期方法和准则来有效检索和监控作业状态：

### I/O事件 {#io-events}

要高效地监视数据生命周期任务的进度，请按照以下步骤设置和使用I/O事件：

- 设置Webhook以接收状态更改的推送通知。
- 使用通知监视进度并在完成时接收更新。
- 避免实施轮询机制以最大程度地减少API流量。

### 检索单个工作单的详细回复 {#retrieve-detailed-work-order-response}

有关单个工作单的深入信息，请使用以下方法：

- GET向 `/workorder{work_order_id}` 详细响应数据的端点。
- 检索特定于产品的响应和成功消息。
- 避免将此方法用于定期轮询活动。

通过遵守这些最佳做法，您可以在高级数据生命周期管理中有效地管理清理请求并优化响应时间。
