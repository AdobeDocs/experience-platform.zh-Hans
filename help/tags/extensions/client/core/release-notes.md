---
title: 核心擴充功能的發行說明
description: Adobe Experience Platform核心擴充功能的最新發行說明。
exl-id: a049b2d5-7a00-435d-bcc7-112658a53a1e
source-git-commit: 0955646164269d868be5161a117c6e12dbd9a4cb
workflow-type: tm+mt
source-wordcount: '1654'
ht-degree: 55%

---

# 核心擴充功能發行說明

>[!NOTE]
>
>Adobe Experience Platform Launch已經過品牌重塑，現在是Adobe Experience Platform中的一套資料收集技術。 因此，产品文档中的术语有一些改动。有关术语更改的综合参考，请参阅以下[文档](../../../term-updates.md)。

## 2023 年 3 月 29 日

v3.4.1

* 新增新的Web原生委派事件：
   * Keydown
   * KeyUp
* 新增針對以下委派針對許多值（「新增其他」選項）進行測試的功能：
   * 事件
      * 更改
   * 条件
      * Cookie
      * 登陆页面
      * 查询字符串参数
      * 流量源
      * Variable
* 變更events/EntersViewport委派以使用 [交集觀察者API](https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API) 取代手動偵測進入檢視區的元素。
* 移除將DTM Cookie移轉至LocalStorage的程式碼。
* 當LocalStorage和SessionStorage API無法使用時，將警告記錄到主控台。

## 2022 年 1 月 4 日

v3.3.0

* 變更 [觸發直接呼叫動作](./overview.md#direct-call-action) 以便您提供自訂事件資訊，以傳送至直接呼叫規則。

## 2021 年 10 月 8 日

v3.2.2

* 修正所有可用運運算元的條件值資料元素JSON結構描述。
* 修正https://github.com/adobe/reactor-extension-core/issues/64。

## 2021 年 9 月 23 日

v3.2.1

* 修正欄位值為0時，條件值資料元素檢視初始化無法正常運作的錯誤。

## 2021 年 9 月 23 日

v3.2.0

條件值資料元素引進了下列變更：

* 為條件值和遞補值新增核取方塊，讓使用者選擇是否要將未定義值設為傳回值。
* 數字值會在設定物件中顯示為數字。
* 條件值不再是必要值，因此其行為方式與遞補值相同。

## 2021年9月17日

v3.1.1

* 修正無法載入日期範圍條件檢視的JS錯誤。

## 2021 年 9 月 16 日

v3.1.0

已新增新的資料元素：

* 合併物件 — 選取多個資料元素，每個元素都會提供物件。 這些物件將深層（遞回）合併在一起，以產生新物件。
* 條件值 — 根據比較結果，傳回兩個值（conditionalValue或fallbackValue）之一。
* 執行階段環境 — 傳回下列Launch環境變數之一：環境階段、程式庫建置日期、屬性名稱、屬性ID、規則名稱、規則ID、事件型別、事件詳細資料裝載、直接呼叫識別碼。
* JavaScript工具 — 常見JavaScript作業的包裝函式：基本字串操控（取代、子字串、規則運算式相符、第一個和最後一個索引、分割、分割）、基本陣列作業（分割、連線、彈出、移位）和基本通用作業（分割、長度）。
* 裝置屬性 — 傳回裝置屬性，例如視窗大小或熒幕大小。

## 2021年8月11日

v3.0.0

* PDCL-6153：新增支援，可靠地提取快取自訂程式碼動作的完整URL。

核心擴充功能v3.0.0搭配以下變更： [Turbine Web執行階段v27.2.0](https://github.com/adobe/reactor-turbine/releases/tag/v27.2.0)，可在使用者的公司支援Premium CDN時，讓其程式庫在Adobe管理的許多託管區域間載入。

此升級為選擇性升級，且向後相容於沒有Premium CDN的使用者，且為已在其公司啟用Premium CDN的客戶所強制。

## 2021 年 5 月 20 日

v2.0.7

* 修正文字輸入上的滑鼠互動無法正常運作的問題。
* 淘汰使用瀏覽器和作業系統條件。

## 2021 年 5 月 4 日

v2.0.6

* 微幅更新以修正熒幕大小變更時扭曲的圖示。

## 2021 年 3 月 11 日

v2.0.5

* 針對具有延遲選項的事件和動作，更新執行階段評估中的程式碼（現在支援在v2.0.4版本中新增的資料元素值），以正確地將字串強制轉換為數字。

## 2021 年 3 月 9 日

v2.0.4

* 新增各種欄位的資料元素支援 — 已將資料元素支援新增至以下事件：「頁面上的時間」、「進入檢視區」、「暫留」和「媒體播放時間」。 以及下列條件：「網站逗留時間」和「值比較」
* 新增對ctrl/cmd +按一下以及使用滑鼠中鍵按一下來支援預設行為（使用「連結延遲」）
* **在點選事件上將連結延遲標籤為「不再支援」。**  — 如需詳細資訊，請參閱 [資料收集部落格](https://experienceleaguecommunities.adobe.com/t5/adobe-experience-platform-launch/explainer-link-delay/ba-p/398403) 適用於Adobe Experience Platform

## 2021 年 1 月 6 日

v1.9.0

* **新的“触发直接调用”操作** - 核心扩展现在包含一个名为 `Trigger Direct Call` 的新操作类型。当您想要通过其他规则中的操作来触发直接调用规则时，可使用该选项。它将直接映射到 `_satellite.track()` 方法。衷心感谢 [Jan Exner](https://twitter.com/jexner) 为此做出的贡献。

## 2020 年 12 月 8 日

v1.8.4

* 修复了用户无法清除或取消设置 CSP nonce 的错误。

## 2020 年 7 月 28 日

v1.8.3

* 修复了在扩展启动时 CSP nonce 只被读取一次，而不是在自定义代码操作调用期间被刷新的错误。

## 2020 年 7 月 13 日

v1.8.2

* 修复了以下错误：对于包含无标记名称（例如，注释）的令牌的 HTML 代码，自定义代码操作会引发错误。

## 2020 年 7 月 10 日

v1.8.1

* 修复了以下错误：`script` 和 `style` 标记属性内的自定义 HTML 实体在写入页面之前未正确解码。
* 修复了以下错误：外部自定义代码操作没有内容时出现错误。外部自定义代码操作是从与库不同的文件中加载的操作（触发规则的事件不是 libraryLoaded 或 pageBottom 时，会发生这种情况）

## 2020 年 7 月 6 日

v1.8.0

* **自定义代码中的 Promise** - 自定义代码条件和不在全局范围中执行的 JavaScript 操作现在可以返回 Promise。您可以通过承诺让后续条件和操作等待自定义代码中的异步进程完成，然后再转到下一个项目。
* **HTML 自定义代码操作中的回调** - 在 HTML 自定义代码操作中，您可以使用 `onCustomCodeSuccess()` 和 `onCustomCodeFailure()` 回调实现相同结果。

有关更多详细信息，请参阅“条件”>“自定义代码和操作”>“自定义代码”中的[核心扩展参考](./overview.md)。

## 2020 年 4 月 7 日

v1.7.3

* **文本字段长度增加** - 文本输入字段已更改为 Flex 布局，以便更好地利用用户的屏幕宽度，并为较长的文本字符串提供更多空间。

## 2019 年 11 月 1 日

v1.7.0

* **在自定义代码数据元素中访问 `event` 变量** - 现在，在规则的上下文中运行时，您可以从自定义代码数据元素中引用事件。该对象将包含有关触发规则的事件的有用信息。衷心感谢 [Stewart Schilling](https://twitter.com/sdi_stewart) 对此所做的贡献。

## 2019 年 10 月 7 日

v1.6.2

* **新的“Constant”数据元素类型** - 核心扩展现在包含一个名为 `Constant` 的新数据元素类型。当您需要存储将在各种条件、操作或自定义代码中引用的常数值时，可以使用该数据元素。衷心感谢 [Jan Exner](https://twitter.com/jexner) 对此所做的贡献。

## 2019 年 9 月 11 日

v1.6.1

* **支持 CSP Nonce** - 现在，核心扩展有一个可选配置参数。您可以添加引用 nonce 的数据元素。如果已設定，標籤新增至頁面的所有內嵌指令碼都會使用您設定的Nonce。 此變更支援使用包含Nonce的內容安全性原則，因此標籤指令碼仍可在CSP環境中載入。 您可以閱讀更多有關搭配CSP使用標籤的資訊 [此處](../../../ui/client-side/content-security-policy.md).

## 2019 年 6 月 18 日

v1.5.0

* **直接调用日志记录** - 现在，直接调用规则的浏览器日志记录在传递时将提供更多详细信息。

## 2019 年 5 月 8 日

v1.4.3

* **输入字段** - 输入字段的长度现已大幅增加！
* **自定义事件** - 现在，可对从窗口调度的事件使用自定义事件类型。
* **错误修复** - 修复了值比较条件无法接受 0 值的错误。
* **错误修复** - exchange\_url 字段已进行更新，以便您现在可在 Adobe Exchange 中看到核心扩展列表。

## 2019 年 1 月 8 日

v1.4.2

* **Enters Viewport 事件** - 以前，Enters Viewport 事件只会在一个页面上触发一次。现在，可以将此行为配置为每次元素进入视区时均触发。
* **Custom Event 事件** - Custom Event 现在可以包含能够在条件和操作中使用的上下文数据。
* **Click 事件** - 现在，如果在 Click 事件上设置了链接延迟，该链接延迟将在锚点子项上正确注册，而不只是在锚点自身上注册。

## 2018 年 11 月 8 日

* **Persist Cohort 选项** - 在 Sampling 条件中添加了用于持久保留同类群组的选项。这样可以使用户在不同的会话中保留处于样本同类群组之内或之外。例如，如果选中“persist cohort”复选框并且在第一次为给定访客运行条件时返回 true，则以后每次为同一访客运行该条件都将返回 true。同样，如果选中“persist cohort”复选框并且在第一次为给定访客运行条件时返回 false，则以后每次为同一访客运行该条件都将返回 false。
* **錯誤修正**  — 修正當標籤同步載入頁面中，但並未正確安裝（沒有呼叫）時，在頁面上使用Page Bottom事件和Custom Code動作的規則問題 `_satellite.pageBottom()`)會清除網站內容。
* **錯誤修正**  — 修正當瀏覽器的DOMContentLoaded事件引發後，標籤程式庫以非同步方式載入並完成載入時，Enters Viewport無法運作的問題。

## 2018 年 5 月 24 日

* **功能** - 添加了 Value Comparison 条件，以便可以使用若干可用运算符中的任意运算符比较两个值。此条件取代了之前多个太过于具体的条件功能。
* **功能** - 添加了 Max Frequency 条件，此条件允许您指定在某个时间段或事件发生期间条件应返回 true 的次数。示例：每天 5 次，每次访问 2 次。

## 2018 年 4 月 11 日

* **功能** - 数据元素现在可以引用其他数据元素。

## 2018 年 3 月 20 日

* **错误修复** - 自定义代码窗口在异步部署中抛出 `document.write` 错误且无法正常执行
* **错误修复** - 主模块未包含在库中
* **错误修复** -“随机数”数据元素出现最小值和最大值问题

## 2018 年 1 月 10 日

* **功能** -“随机数”数据元素
* **功能** -“页面信息”数据元素
* **功能** - Date 条件
* **功能** - Sampling 条件
