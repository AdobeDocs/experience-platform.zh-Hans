---
title: 内部版本
description: 瞭解組建的概念及其在Adobe Experience Platform中的運作方式。
exl-id: af899282-aa2d-4395-8dbd-18d91be3f041
source-git-commit: a8b0282004dd57096dfc63a9adb82ad70d37495d
workflow-type: tm+mt
source-wordcount: '787'
ht-degree: 58%

---

# 内部版本

>[!NOTE]
>
>Adobe Experience Platform Launch已經過品牌重塑，現在是Adobe Experience Platform中的一套資料收集技術。 因此，产品文档中的术语有一些改动。有关术语更改的综合参考，请参阅以下[文档](../../term-updates.md)。

内部版本是一组文件，其中包含在客户端设备上运行的所有代码。

它是您在程式庫中指定之變更的複合專案，以及在它之前已提交、已核准或已發佈的所有內容。

内部版本包含相互引用的客户端代码文件。可使用您为库选择的环境和主机将这些文件传送到您的托管位置。您在网站上部署的代码将指向该同一位置，这样当用户访问您的网站或应用程序时，便可以加载这些文件。

## 文件内容

程式庫定義了應包含在其中的一組精選標籤資源（擴充功能、規則和資料元素）。

組建包含所有模組程式碼（由擴充功能開發人員提供）和所需設定（由您輸入），以支援程式庫中包含的資源。 例如，如果擴充功能提供未在規則內使用的動作，則執行這些動作的程式碼不會包含在組建中。

内部版本分为主库文件以及潜在的许多较小文件。主库文件可在嵌入代码中引用，并在运行时加载到页面。主库文件包含：

* 规则引擎
* 所有扩展配置
* 所有数据元素代码和配置
* 所有规则事件代码和配置
* 所有条件代码和配置
* 任何将“库已加载”或“页面底部”作为事件的规则的事件代码和配置（因为我们知道我们即将需要它）。

较小文件包含根据需要加载到页面上的各个操作的代码和配置。觸發規則並評估其條件以便執行動作時，系統會從其中一個較小檔案中擷取該特定動作所需的程式碼和設定。 这意味着页面上只会加载执行必要操作所需的代码，以便尽可能减小主库文件。

## 文件格式

内部版本的默认文件格式是一个文件包，其中包含您的扩展、数据元素和规则以您希望的方式运行所需的所有代码。

但是，在某些情况下，您可能更希望格式为文件的 .zip 存档，而不是可执行的客户端代码文件。例如，如果您自行托管内部版本并希望在另一个部署中使用该内部版本，则可能需要创建存档。如果您在程式庫欄位的自行託管路徑中提供任何內容，即可儲存環境。 除了新代码外，指向已存档下载的链接也会变得可用。建置程式庫後，您可以選擇將zip檔案部署到Akamai，然後從下載 `assets.adobedtm.com/...`.

>[!NOTE]
>
>在生成内部版本之前，该位置中不存在任何内容。

无论文件格式如何，生成的内部版本始终都会传递到主机指定的位置。

要完成生成操作，请选择一个库，然后选择发布过程中该级别可用的生成选项（Build for Development、Build for Staging 等）。

## 缩小

通过缩小，可以从文件中去除执行操作不需要的数据，从而降低带宽成本并提高运行速度。

为了提高性能，Platform 将缩小所有内容，包括：

* 主要標籤庫
* 扩展开发人员提供的作为扩展一部分的模块代码
* Platform 用户提供的自定义代码

>[!NOTE]
>
>如果您的模块代码和自定义代码已经缩小，Platform 仍会再次缩小它们。第二次缩小没有其他好处，但也不会造成任何损害，它可以简化 Platform ，使其更易于维护。

提供的任何使用者端代碼都指向程式碼的縮製版本。 這在檔案名稱中可看到，其遵循縮小檔案的標準命名慣例：

`launch-%environment_id%.min.js`

如果您想要檢視未縮制的程式碼，請從檔案名稱移除.min：

`launch-%environment_id%.js`

如果擴充功能開發人員使用其擴充功能提供縮制的程式碼，Platform不會在未縮制的組建中提供未縮制的程式碼。 同樣地，如果Platform使用者將縮制的程式碼放入自訂程式碼方塊中，該程式碼在未縮制的組建中仍為縮制的程式碼。 Platform不會解壓縮任何內容。

如需詳細資訊的詳細資訊，請參閱 [這篇棧疊路徑文章](https://blog.stackpath.com/glossary/minification/).

執行組建時，會先建構未縮制的程式庫，然後一次將整個程式庫縮制。
